import{b as y}from"./baseSet.BAahPqoT.js";import{s as n,y as d,aJ as g}from"./framework.DXFcsTCa.js";function h(t,s,r){return t==null?t:y(t,s,r)}const R=(t,s=!0)=>{const r=n(!1),l=n(),m=n({}),a=n([]),c=(o,e,F)=>{const f=a.value.find(v=>v.prop===o);f&&h(f,e,F)},i=o=>{a.value=o},u=async()=>{if(t){r.value=!0;try{const o=await t();m.value=o}catch(o){console.error(o)}finally{r.value=!1}}},p=(o,e)=>({...e,element:o}),C=(o,e)=>({...e,component:typeof o=="string"?o:g(o)});return d(()=>{s&&u()}),{loading:r,formRef:l,formData:m,formColumns:a,createFormColumnWithElement:p,createFormColumnWithComponent:C,setFormColumns:i,updateFormColumn:c,getFormData:u}};export{R as u};

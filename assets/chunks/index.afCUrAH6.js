import{d as he,c as T,j as be,e as W,r as P,I as de,w as x,E as U,o as u,b as $,J as fe,n as Me,a as ce,t as pe,b3 as ye,b4 as ke,s as Ye,h as $e,a6 as De,M as w,D as ue,F,aj as we,ak as Se,k as X}from"./framework.DXFcsTCa.js";import{v as Ve,w as Ce}from"./theme.D5dyfCpL.js";import{a as Oe}from"./index.BgWpqbC7.js";import{o as ve}from"./omit.BWdboJYH.js";const Ue=(v,f="children")=>{const S=[],D=p=>{p.forEach(M=>{S.push(M),M!=null&&M[f]&&D(M[f])})};return D(v),S},re=(v,f,S={})=>{var M;if(f==null)return"";if(Array.isArray(f))return f.map(V=>Array.isArray(V)?V.map(j=>re(v,j,S)).join("/"):re(v,V,S)).join("、");const D=S.label||"label",p=S.value||"value";return((M=v.find(V=>V[p]===f))==null?void 0:M[D])??f};var ge={exports:{}};(function(v,f){(function(S,D){v.exports=D()})(Ce,function(){var S=1e3,D=6e4,p=36e5,M="millisecond",V="second",j="minute",N="hour",A="day",Z="week",_="month",oe="quarter",L="year",B="date",ae="Invalid Date",a=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},y=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},C={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+y(o,2,"0")+":"+y(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(o,_),s=n-r<0,l=t.clone().add(o+(s?-1:1),_);return+(-(o+(n-r)/(s?r-l:l-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:_,y:L,w:Z,d:A,D:B,h:N,m:j,s:V,ms:M,Q:oe}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return e===void 0}},H="en",k={};k[H]=c;var E="$isDayjsObject",K=function(e){return e instanceof G||!(!e||!e[E])},q=function e(t,n,o){var r;if(!t)return H;if(typeof t=="string"){var s=t.toLowerCase();k[s]&&(r=s),n&&(k[s]=n,r=s);var l=t.split("-");if(!r&&l.length>1)return e(l[0])}else{var h=t.name;k[h]=t,r=h}return!o&&r&&(H=r),r||!o&&H},g=function(e,t){if(K(e))return e.clone();var n=typeof t=="object"?t:{};return n.date=e,n.args=arguments,new G(n)},d=C;d.l=q,d.i=K,d.w=function(e,t){return g(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var G=function(){function e(n){this.$L=q(n.locale,null,!0),this.parse(n),this.$x=this.$x||n.x||{},this[E]=!0}var t=e.prototype;return t.parse=function(n){this.$d=function(o){var r=o.date,s=o.utc;if(r===null)return new Date(NaN);if(d.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var l=r.match(a);if(l){var h=l[2]-1||0,m=(l[7]||"0").substring(0,3);return s?new Date(Date.UTC(l[1],h,l[3]||1,l[4]||0,l[5]||0,l[6]||0,m)):new Date(l[1],h,l[3]||1,l[4]||0,l[5]||0,l[6]||0,m)}}return new Date(r)}(n),this.init()},t.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},t.$utils=function(){return d},t.isValid=function(){return this.$d.toString()!==ae},t.isSame=function(n,o){var r=g(n);return this.startOf(o)<=r&&r<=this.endOf(o)},t.isAfter=function(n,o){return g(n)<this.startOf(o)},t.isBefore=function(n,o){return this.endOf(o)<g(n)},t.$g=function(n,o,r){return d.u(n)?this[o]:this.set(r,n)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(n,o){var r=this,s=!!d.u(o)||o,l=d.p(n),h=function(J,O){var R=d.w(r.$u?Date.UTC(r.$y,O,J):new Date(r.$y,O,J),r);return s?R:R.endOf(A)},m=function(J,O){return d.w(r.toDate()[J].apply(r.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(O)),r)},b=this.$W,Y=this.$M,I=this.$D,Q="set"+(this.$u?"UTC":"");switch(l){case L:return s?h(1,0):h(31,11);case _:return s?h(1,Y):h(0,Y+1);case Z:var z=this.$locale().weekStart||0,ee=(b<z?b+7:b)-z;return h(s?I-ee:I+(6-ee),Y);case A:case B:return m(Q+"Hours",0);case N:return m(Q+"Minutes",1);case j:return m(Q+"Seconds",2);case V:return m(Q+"Milliseconds",3);default:return this.clone()}},t.endOf=function(n){return this.startOf(n,!1)},t.$set=function(n,o){var r,s=d.p(n),l="set"+(this.$u?"UTC":""),h=(r={},r[A]=l+"Date",r[B]=l+"Date",r[_]=l+"Month",r[L]=l+"FullYear",r[N]=l+"Hours",r[j]=l+"Minutes",r[V]=l+"Seconds",r[M]=l+"Milliseconds",r)[s],m=s===A?this.$D+(o-this.$W):o;if(s===_||s===L){var b=this.clone().set(B,1);b.$d[h](m),b.init(),this.$d=b.set(B,Math.min(this.$D,b.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},t.set=function(n,o){return this.clone().$set(n,o)},t.get=function(n){return this[d.p(n)]()},t.add=function(n,o){var r,s=this;n=Number(n);var l=d.p(o),h=function(Y){var I=g(s);return d.w(I.date(I.date()+Math.round(Y*n)),s)};if(l===_)return this.set(_,this.$M+n);if(l===L)return this.set(L,this.$y+n);if(l===A)return h(1);if(l===Z)return h(7);var m=(r={},r[j]=D,r[N]=p,r[V]=S,r)[l]||1,b=this.$d.getTime()+n*m;return d.w(b,this)},t.subtract=function(n,o){return this.add(-1*n,o)},t.format=function(n){var o=this,r=this.$locale();if(!this.isValid())return r.invalidDate||ae;var s=n||"YYYY-MM-DDTHH:mm:ssZ",l=d.z(this),h=this.$H,m=this.$m,b=this.$M,Y=r.weekdays,I=r.months,Q=r.meridiem,z=function(O,R,te,le){return O&&(O[R]||O(o,s))||te[R].slice(0,le)},ee=function(O){return d.s(h%12||12,O,"0")},J=Q||function(O,R,te){var le=O<12?"AM":"PM";return te?le.toLowerCase():le};return s.replace(i,function(O,R){return R||function(te){switch(te){case"YY":return String(o.$y).slice(-2);case"YYYY":return d.s(o.$y,4,"0");case"M":return b+1;case"MM":return d.s(b+1,2,"0");case"MMM":return z(r.monthsShort,b,I,3);case"MMMM":return z(I,b);case"D":return o.$D;case"DD":return d.s(o.$D,2,"0");case"d":return String(o.$W);case"dd":return z(r.weekdaysMin,o.$W,Y,2);case"ddd":return z(r.weekdaysShort,o.$W,Y,3);case"dddd":return Y[o.$W];case"H":return String(h);case"HH":return d.s(h,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return J(h,m,!0);case"A":return J(h,m,!1);case"m":return String(m);case"mm":return d.s(m,2,"0");case"s":return String(o.$s);case"ss":return d.s(o.$s,2,"0");case"SSS":return d.s(o.$ms,3,"0");case"Z":return l}return null}(O)||l.replace(":","")})},t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},t.diff=function(n,o,r){var s,l=this,h=d.p(o),m=g(n),b=(m.utcOffset()-this.utcOffset())*D,Y=this-m,I=function(){return d.m(l,m)};switch(h){case L:s=I()/12;break;case _:s=I();break;case oe:s=I()/3;break;case Z:s=(Y-b)/6048e5;break;case A:s=(Y-b)/864e5;break;case N:s=Y/p;break;case j:s=Y/D;break;case V:s=Y/S;break;default:s=Y}return r?s:d.a(s)},t.daysInMonth=function(){return this.endOf(_).$D},t.$locale=function(){return k[this.$L]},t.locale=function(n,o){if(!n)return this.$L;var r=this.clone(),s=q(n,o,!0);return s&&(r.$L=s),r},t.clone=function(){return d.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e}(),se=G.prototype;return g.prototype=se,[["$ms",M],["$s",V],["$m",j],["$H",N],["$W",A],["$M",_],["$y",L],["$D",B]].forEach(function(e){se[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),g.extend=function(e,t){return e.$i||(e(t,G,g),e.$i=!0),g},g.locale=q,g.isDayjs=K,g.unix=function(e){return g(1e3*e)},g.en=k[H],g.Ls=k,g.p={},g})})(ge);var He=ge.exports;const me=Ve(He),ie=(v,f="YYYY-MM-DD HH:mm:ss")=>me(v).isValid()?me(v).format(f):v,Te=v=>({year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",date:"YYYY-MM-DD",dates:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",week:"YYYY-MM-DD",datetimerange:"YYYY-MM-DD HH:mm:ss",daterange:"YYYY-MM-DD",monthrange:"YYYY-MM",yearrange:"YYYY"})[v]??"YYYY-MM-DD",ne=he({props:{vNode:{type:[String,Number,Object],required:!0}},setup(v){return()=>v.vNode}}),Ie={class:"u-title-bar"},xe={class:"u-title-bar__title"},je={key:2,class:"u-title-bar__icon default-icon"},Ae={key:0,class:"u-title-bar__toolbar"},Le=he({name:"USectionHeader",__name:"title-bar",props:{title:{default:""},icon:{default:""},iconClass:{},showIcon:{type:Boolean,default:!0}},setup(v){return(f,S)=>{const D=U("el-icon"),p=U("el-text");return u(),T("div",Ie,[be("div",xe,[f.showIcon?P(f.$slots,"icon",{key:0},()=>[f.icon?(u(),$(D,{key:0,class:"u-title-bar__icon"},{default:x(()=>[(u(),$(fe(f.icon)))]),_:1})):f.iconClass?(u(),T("i",{key:1,class:Me(["u-title-bar__icon",f.iconClass])},null,2)):(u(),T("i",je))]):W("",!0),de(p,{class:"u-title-bar__text",truncated:"",size:"large"},{default:x(()=>[P(f.$slots,"default",{},()=>[ce(pe(f.title),1)])]),_:3})]),f.$slots.toolbar?(u(),T("div",Ae,[P(f.$slots,"toolbar")])):W("",!0)])}}}),_e=he({name:"UForm",__name:"form",props:ye({view:{type:Boolean,default:!1},options:{default:()=>[]},gutter:{default:20},rules:{},labelPosition:{default:"right"},requireAsteriskPosition:{default:"left"},labelWidth:{default:"auto"},labelSuffix:{default:""},inline:{type:Boolean,default:!1},inlineMessage:{type:Boolean,default:!1},statusIcon:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:{type:Boolean,default:!1},scrollIntoViewOptions:{default:()=>({})},size:{default:"default"},disabled:{type:Boolean,default:!1}},{modelValue:{default:()=>({})},modelModifiers:{}}),emits:ye(["validate","change"],["update:modelValue"]),setup(v,{expose:f,emit:S}){const D=S,p=ke(v,"modelValue"),M=v,V=De(),j=Ye(),N=$e(()=>ve(M,["view","rules","options"])),A=$e(()=>{const a=Number(M.gutter);if(a>0){const i=a/2;return{marginLeft:`${-i}px`,marginRight:`${-i}px`}}return{}}),Z=(a,i,c)=>{D("validate",a,i,c)},_=(a,i)=>{D("change",a,i)},oe=a=>ve(a,["span","element","value","attrs","if","show","style","slot"]),L=a=>{const i=["autocomplete","input","input-number","input-tag","mention"].includes(a.element),c=a.element?i?"请输入":"请选择":"请输入";return a.required&&!a.rules?[{required:!0,message:c}]:a.rules?a.rules.map(y=>({message:c,...y})):[]},B=(a,i)=>{var H;const c=(i==null?void 0:i.style)??{},y=((H=i.span)==null?void 0:H.split("/"))??[],C=Number(M.gutter);if(C>0){const k=C/2;c.paddingLeft=`${k}px`,c.paddingRight=`${k}px`}if(M.inline||(c.width="100%"),y.length===2){const k=parseInt(y[0]),E=parseInt(y[1]);k>0&&E>0&&k<=E?c.width=`${k/E*100}%`:console.warn(`表单项【${a}】的【span】属性配置错误，请检查配置; 正确格式如：1/2`)}return c},ae=a=>{const i=p.value[a.prop];if(i==null)return"";if(a.element==="cascader"){const{props:c={},options:y=[]}=a.attrs??{},C=Ue(y,c.children);return re(C,i,c)}else if(a.element==="transfer"){const{props:c={},data:y=[]}=a.attrs??{};return re(y,i,{label:c.label,value:c.key??"key"})}else if(["select","checkbox-group","radio-group"].includes(a.element)){const{options:c=[]}=a.attrs;return re(c,i)}else if(a.element==="switch"){const{activeText:c="是",inactiveText:y="否",activeValue:C=!0}=a.attrs??{};return i===C?c:y}else if(["time-picker","time-select"].includes(a.element)){const{format:c="HH:mm:ss"}=a.attrs??{};return Array.isArray(i)?i.map(y=>ie(y,c)).join("-"):ie(i,c)}else if(a.element==="date-picker"){const{type:c="date",format:y}=a.attrs??{};let C=Te(c);return y&&(C=y),Array.isArray(i)?i.map(H=>ie(H,C)).join("-"):ie(i,C)}return(i==null?void 0:i.toString())??""};return f(new Proxy({},{get(a,i){var y;return(((y=V.refs)==null?void 0:y.formRef)??{})[i]},has(a,i){return Reflect.has(j.value,i)}})),(a,i)=>{const c=U("el-icon"),y=U("el-tooltip"),C=U("el-rate"),H=U("el-upload"),k=U("el-cascader"),E=U("el-button"),K=U("el-checkbox"),q=U("el-radio"),g=U("el-option"),d=U("el-text"),G=U("el-form-item"),se=U("el-form");return u(),$(se,w({ref_key:"formRef",ref:j,class:"u-form"},N.value,{model:p.value,style:A.value,onValidate:Z}),{default:x(()=>[(u(!0),T(F,null,ue(a.options,e=>(u(),T(F,{key:e.prop},[(e==null?void 0:e.rendered)??!0?we((u(),$(G,w({key:0},oe(e),{prop:e.prop,rules:L(e),style:B(e.prop,e),class:["u-form-item",e.element==="title-bar"?"u-form-item--title-bar":""],label:e.element==="title-bar"?"":e.label}),{label:x(t=>[a.$slots[`label-${e.prop}`]?P(a.$slots,`label-${e.prop}`,w({key:0,item:e},t)):e.renderLabel?(u(),$(X(ne),{key:1,"v-node":e.renderLabel({item:e,label:t.label})},null,8,["v-node"])):(u(),T(F,{key:2},[ce(pe(e.label)+" ",1),e.tooltip?(u(),$(y,{key:0,content:e.tooltip,placement:"top"},{default:x(()=>[P(a.$slots,"tooltip-icon",{},()=>[de(c,{class:"u-form-item__tooltip-icon"},{default:x(()=>[de(X(Oe))]),_:1})])]),_:2},1032,["content"])):W("",!0)],64))]),error:x(t=>[a.$slots[`error-${e.prop}`]?P(a.$slots,`error-${e.prop}`,w({key:0,item:e},t)):e.renderError?(u(),$(X(ne),{key:1,"v-node":e.renderError({item:e,error:t.error})},null,8,["v-node"])):W("",!0)]),default:x(()=>[a.view||e.view?(u(),T(F,{key:0},[e.formatter?(u(),$(X(ne),{key:0,"v-node":e.formatter(e)},null,8,["v-node"])):e.element==="rate"?(u(),$(C,w({key:1,modelValue:p.value[e.prop],"onUpdate:modelValue":t=>p.value[e.prop]=t},e.attrs,{disabled:!0}),null,16,["modelValue","onUpdate:modelValue"])):e.element==="upload"?(u(),$(H,w({key:2,"file-list":p.value[e.prop]},e.attrs,{disabled:!0,class:"is-view"}),null,16,["file-list"])):(u(),$(X(ne),{key:3,"v-node":ae(e)},null,8,["v-node"]))],64)):a.$slots[e.prop]?P(a.$slots,e.prop,{key:1,item:e}):e.render?(u(),$(X(ne),{key:2,"v-node":e.render({item:e,view:a.view})},null,8,["v-node"])):e.component?(u(),$(fe(e.component),w({key:3,modelValue:p.value[e.prop],"onUpdate:modelValue":t=>p.value[e.prop]=t},e.attrs,{view:a.view,onChange:t=>_(e.prop,e)}),null,16,["modelValue","onUpdate:modelValue","view","onChange"])):e.element?(u(),T(F,{key:4},[e.element==="title-bar"?(u(),$(Le,{key:0,title:e.label},null,8,["title"])):e.element==="cascader"?(u(),$(k,w({key:1,modelValue:p.value[e.prop],"onUpdate:modelValue":t=>p.value[e.prop]=t},e.attrs,{onChange:t=>_(e.prop,e)}),null,16,["modelValue","onUpdate:modelValue","onChange"])):e.element==="upload"?(u(),$(H,w({key:2,"file-list":p.value[e.prop],"onUpdate:fileList":t=>p.value[e.prop]=t},e.attrs,{onChange:t=>_(e.prop,e)}),{default:x(()=>{var t;return[((t=e.attrs)==null?void 0:t.listType)!=="picture-card"?(u(),$(E,{key:0,type:"primary"},{default:x(()=>[ce(" 点击上传 ")]),_:1})):W("",!0)]}),_:2},1040,["file-list","onUpdate:fileList","onChange"])):e.element==="checkbox"?(u(),$(K,w({key:3,modelValue:p.value[e.prop],"onUpdate:modelValue":t=>p.value[e.prop]=t},e.attrs,{onChange:t=>_(e.prop,e)}),null,16,["modelValue","onUpdate:modelValue","onChange"])):e.element==="radio"?(u(),$(q,w({key:4,modelValue:p.value[e.prop],"onUpdate:modelValue":t=>p.value[e.prop]=t},e.attrs,{onChange:t=>_(e.prop,e)}),null,16,["modelValue","onUpdate:modelValue","onChange"])):(u(),$(fe(`el-${e.element}`),w({key:5,modelValue:p.value[e.prop],"onUpdate:modelValue":t=>p.value[e.prop]=t},e.attrs,{onChange:t=>_(e.prop,e)}),{default:x(()=>[e.attrs&&e.attrs.options?(u(),T(F,{key:0},[e.element==="select"?(u(!0),T(F,{key:0},ue(e.attrs.options,t=>(u(),$(g,w({key:t.value},t),null,16))),128)):e.element==="checkbox-group"?(u(!0),T(F,{key:1},ue(e.attrs.options,t=>(u(),$(K,w({key:t.value},t),null,16))),128)):e.element==="radio-group"?(u(!0),T(F,{key:2},ue(e.attrs.options,t=>(u(),$(q,w({key:t.value},t),null,16))),128)):W("",!0)],64)):W("",!0)]),_:2},1040,["modelValue","onUpdate:modelValue","onChange"]))],64)):(u(),$(d,{key:5,type:"danger"},{default:x(()=>[ce(pe(`请检查表单项【${e.prop}】的配置`),1)]),_:2},1024))]),_:2},1040,["prop","rules","style","class","label"])),[[Se,(e==null?void 0:e.display)??!0]]):W("",!0)],64))),128))]),_:3},16,["model","style"])}}}),Fe=_e;Fe.install=v=>{v.component("UForm",_e)};export{ne as R,Fe as _,Le as a};
